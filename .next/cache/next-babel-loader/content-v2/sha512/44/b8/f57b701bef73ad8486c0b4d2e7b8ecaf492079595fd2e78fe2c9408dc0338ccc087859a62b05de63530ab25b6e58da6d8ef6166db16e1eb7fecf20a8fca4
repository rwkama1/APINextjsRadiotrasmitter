{"ast":null,"code":"import cors from \"../../cors\";\nimport { FactoryLogic } from \"radiotrasmitter/RadioTransmitter/dist/logic/FactoryLogic\";\nimport { OwnCampaign } from \"radiotrasmitter/RadioTransmitter/dist/shared/entityshared/OwnCampaign\";\nimport { Emission } from \"radiotrasmitter/RadioTransmitter/dist/shared/entityshared/Emission\";\nexport default async function (req, res) {\n  if (req.method === \"POST\") {\n    try {\n      const data = req.body;\n      await cors(req, res);\n      const getprogr = await FactoryLogic.getLogicProgram().getProgram(data.program);\n      const emission = new Emission(getprogr, data.date);\n      const listemision = [];\n      listemision.push(emission);\n      const dtowncamp = new OwnCampaign(data.title, \"\", \"\", \"\", 0, null, 0, listemision);\n      await FactoryLogic.getLogicCampaign().addCEmission(dtowncamp);\n      return res.status(200).json({\n        status: \"Success\"\n      });\n    } catch (error) {\n      return res.status(500).json({\n        status: \"Error\",\n        data: {\n          msg: \"Could not add emission\",\n          error: error.toString()\n        }\n      });\n    }\n  }\n}","map":{"version":3,"sources":["C:/Users/Waldemar/Desktop/APINextRadiotrasmitter/pages/api/campaign/emission/owncemission.js"],"names":["cors","FactoryLogic","OwnCampaign","Emission","req","res","method","data","body","getprogr","getLogicProgram","getProgram","program","emission","date","listemision","push","dtowncamp","title","getLogicCampaign","addCEmission","status","json","error","msg","toString"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,YAAjB;AACA,SAAQC,YAAR,QAA2B,0DAA3B;AACA,SAAQC,WAAR,QAA0B,uEAA1B;AACA,SAAQC,QAAR,QAAuB,oEAAvB;AAGA,eAAe,gBAAgBC,GAAhB,EAAqBC,GAArB,EAA0B;AAEvC,MAAGD,GAAG,CAACE,MAAJ,KAAa,MAAhB,EACA;AACE,QACA;AACA,YAAMC,IAAI,GAAGH,GAAG,CAACI,IAAjB;AACA,YAAMR,IAAI,CAACI,GAAD,EAAMC,GAAN,CAAV;AACA,YAAMI,QAAQ,GAAC,MAAMR,YAAY,CAACS,eAAb,GAA+BC,UAA/B,CAA0CJ,IAAI,CAACK,OAA/C,CAArB;AACA,YAAMC,QAAQ,GAAC,IAAIV,QAAJ,CAAaM,QAAb,EAAsBF,IAAI,CAACO,IAA3B,CAAf;AACA,YAAMC,WAAW,GAAC,EAAlB;AACCA,MAAAA,WAAW,CAACC,IAAZ,CAAiBH,QAAjB;AACD,YAAMI,SAAS,GAAC,IAAIf,WAAJ,CAAgBK,IAAI,CAACW,KAArB,EAA2B,EAA3B,EAA8B,EAA9B,EAAiC,EAAjC,EAAoC,CAApC,EAAsC,IAAtC,EAA2C,CAA3C,EAA6CH,WAA7C,CAAhB;AACD,YAAMd,YAAY,CAACkB,gBAAb,GAAgCC,YAAhC,CAA6CH,SAA7C,CAAN;AACC,aAAOZ,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,QAAAA,MAAM,EAAE;AAAV,OAArB,CAAP;AACC,KAXD,CAYA,OAAOE,KAAP,EAAc;AACZ,aAAOlB,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,QAAAA,MAAM,EAAE,OADkB;AAE1Bd,QAAAA,IAAI,EAAE;AAAEiB,UAAAA,GAAG,EAAE,wBAAP;AAAiCD,UAAAA,KAAK,EAAEA,KAAK,CAACE,QAAN;AAAxC;AAFoB,OAArB,CAAP;AAID;AACF;AACF","sourcesContent":["import cors from \"../../cors\";\r\nimport {FactoryLogic} from \"radiotrasmitter/RadioTransmitter/dist/logic/FactoryLogic\";\r\nimport {OwnCampaign} from \"radiotrasmitter/RadioTransmitter/dist/shared/entityshared/OwnCampaign\";\r\nimport {Emission} from \"radiotrasmitter/RadioTransmitter/dist/shared/entityshared/Emission\";\r\n\r\n\r\nexport default async function (req, res) {\r\n\r\n  if(req.method===\"POST\")\r\n  {\r\n    try\r\n    {\r\n    const data = req.body;\r\n    await cors(req, res)\r\n    const getprogr=await FactoryLogic.getLogicProgram().getProgram(data.program);\r\n    const emission=new Emission(getprogr,data.date);\r\n    const listemision=[];\r\n     listemision.push(emission);\r\n    const dtowncamp=new OwnCampaign(data.title,\"\",\"\",\"\",0,null,0,listemision)\r\n   await FactoryLogic.getLogicCampaign().addCEmission(dtowncamp);\r\n    return res.status(200).json({ status: \"Success\" });\r\n    }\r\n    catch (error) {\r\n      return res.status(500).json({\r\n        status: \"Error\",\r\n        data: { msg: \"Could not add emission\", error: error.toString() }\r\n      });\r\n    }\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}